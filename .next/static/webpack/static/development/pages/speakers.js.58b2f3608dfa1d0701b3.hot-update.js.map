{"version":3,"file":"static/webpack/static\\development\\pages\\speakers.js.58b2f3608dfa1d0701b3.hot-update.js","sources":["webpack:///./src/Speakers.js"],"sourcesContent":["import React, { useState, useContext, useCallback, useMemo } from \"react\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../static/site.css\";\nimport { Header } from \"../src/Header\";\nimport { Menu } from \"../src/Menu\";\nimport SpeakerDetail from \"./SpeakerDetail\";\nimport { ConfigContext } from \"./App\";\nimport useAxiosFetch from \"./useAxiosFetch\";\nimport Axios from \"axios\";\n\nconst Speakers = ({}) => {\n  const {\n    data,\n    isLoading,\n    hasErrored,\n    errorMessage,\n    updateDataRecord\n  } = useAxiosFetch(\"http://localhost:4000/speakers\");\n\n  const [speakingSaturday, setSpeakingSaturday] = useState(true);\n  const [speakingSunday, setSpeakingSunday] = useState(true);\n\n  const context = useContext(ConfigContext);\n\n  const newSpeakerList = useMemo(\n    () =>\n      data\n        .filter(\n          ({ sat, sun }) => (speakingSaturday && sat) || (speakingSunday && sun)\n        )\n        .sort(function(a, b) {\n          if (a.firstName < b.firstName) {\n            return -1;\n          }\n          if (a.firstName > b.firstName) {\n            return 1;\n          }\n          return 0;\n        }),\n    [speakingSaturday, speakingSunday, data]\n  );\n\n  const speakerListFiltered = isLoading ? [] : newSpeakerList;\n\n  if (hasErrored) {\n    return <div>{errorMessage}&nbsp;</div>;\n  }\n\n  const handleChangeSunday = () => {\n    setSpeakingSunday(!speakingSunday);\n  };\n\n  const handleChangeSaturday = () => {\n    setSpeakingSaturday(!speakingSaturday);\n  };\n\n  const heartFavoriteHandler = useCallback((e, speakerRec) => {\n    e.preventDefault();\n    const toggledRec = { ...speakerRec, favorite: !speakerRec.favorite };\n    axios.put(`http://localhost:4000/speakers/${speakerRec.id}`, toggledRec);\n\n    const sessionId = parseInt(e.target.attributes[\"data-sessionid\"].value);\n\n    dispatch({\n      type: favoriteValue === true ? \"favorite\" : \"unfavorite\",\n      sessionId\n    });\n  }, []);\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <Header />\n      <Menu />\n      <div className=\"container\">\n        <div className=\"btn-toolbar  margintopbottom5 checkbox-bigger\">\n          {context.showSpeakerSpeakingDays === false ? null : (\n            <div className=\"hide\">\n              <div className=\"form-check-inline\">\n                <label className=\"form-check-label\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"form-check-input\"\n                    onChange={handleChangeSaturday}\n                    checked={speakingSaturday}\n                  />\n                  Saturday Speakers\n                </label>\n              </div>\n              <div className=\"form-check-inline\">\n                <label className=\"form-check-label\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"form-check-input\"\n                    onChange={handleChangeSunday}\n                    checked={speakingSunday}\n                  />\n                  Sunday Speakers\n                </label>\n              </div>\n            </div>\n          )}\n        </div>\n        <div className=\"row\">\n          <div className=\"card-deck\">\n            {speakerListFiltered.map(\n              ({ id, firstName, lastName, bio, favorite }) => {\n                return (\n                  <SpeakerDetail\n                    key={id}\n                    id={id}\n                    favorite={favorite}\n                    onHeartFavoriteHandler={heartFavoriteHandler}\n                    firstName={firstName}\n                    lastName={lastName}\n                    bio={bio}\n                    sat={sat}\n                    sun={sun}\n                  />\n                );\n              }\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Speakers;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAWA;AAEA;AACA;AAGA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAbA;AAiBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAOA;AACA;AACA;;;;A","sourceRoot":""}