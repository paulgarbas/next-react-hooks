{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.e63bd7f0c9ee39c296f4.hot-update.js","sources":["webpack:///./src/SignMeUp.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { ConfigContext } from \"./App\";\n\nconst SignMeUp = ({ signupCallback }) => {\n  useEffect(() => {\n    console.log(`SignMeUp:useEffect called`);\n  });\n\n  const [email, setEmail] = useState();\n  const [emailValid, setEmailValid] = useState(false);\n  const [sendProcessing, setSendProcessing] = useState(false);\n\n  const context = useContext(ConfigContext);\n\n  function validateEmail(email) {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  }\n\n  const notify = () => {\n    toast.info(`You will be notified of upcoming events ${email}`);\n  };\n\n  function sendEmailToBackend() {\n    setSendProcessing(true);\n    new Promise(function(resolve) {\n      setTimeout(function() {\n        setSendProcessing(false);\n        setEmail(\"\");\n        resolve();\n      }, 1000);\n    }).then(() => {\n      notify();\n      signupCallback(email);\n      setEmail(\"\");\n    });\n  }\n\n  const buttonText = sendProcessing ? \"processing...\" : \"Get Updates\";\n\n  //console.log(\"src/SignMeUp called\");\n\n  if (context.loggedInUserEmail) {\n    return (\n      <div className=\"container\">\n        <div className=\"content\">\n          <span>Logged in User Email: {context.loggedInUserEmail}</span>\n          &nbsp;&nbsp;\n          <a href=\"/logout\">Logout</a>\n        </div>\n      </div>\n    );\n  }\n\n  return context.showSignMeUp === false ? null : (\n    <div className=\"container\">\n      <div>\n        <ToastContainer />\n        <div className=\"content\">\n          <input\n            value={email}\n            onChange={e => {\n              setEmailValid(validateEmail(e.target.value));\n              return setEmail(e.target.value);\n            }}\n            placeholder=\"Enter Email\"\n            type=\"email\"\n            name=\"email\"\n            required\n            required\n          />\n          &nbsp;\n          <button\n            disabled={!emailValid || sendProcessing}\n            className=\"btn\"\n            onClick={sendEmailToBackend}\n            type=\"submit\"\n          >\n            {buttonText}\n          </button>\n          &nbsp;&nbsp;<a href=\"/login\">Login</a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SignMeUp;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAcA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;A","sourceRoot":""}